{% extends "base.html" %}

{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/register.css') }}" />
<div class="register-container">
    <h1>Register</h1>
    
    <form method="POST" enctype="multipart/form-data">
        <div class="register-avatar-wrapper">
            <div id="register-placeholder" class="avatar-placeholder">
                ðŸ‘¤
            </div>
            <img id="register-preview" src="" alt="Preview" class="avatar-preview" style="display: none;">
        </div>

        <input type="text" name="username" placeholder="Username" required autofocus value="{{ request.form.get('username', '') }}">
        <input type="email" name="email" placeholder="Email" required value="{{ request.form.get('email', '') }}">
        <input type="password" name="password" placeholder="Password" required>
        
        <textarea name="bio" placeholder="Tell us about yourself (Bio)" rows="3" 
            style="width: 93%; padding: 12px 14px; border-radius: 12px; border: 1px solid rgba(255,255,255,0.12); background: rgba(3, 6, 23, 0.55); color: #e5e7eb; outline: none; font-family: inherit; resize: none; margin-bottom: 12px;"></textarea>

        <label for="profile_pic" style="color: #9ca3af; margin-bottom: 5px; display: block; font-size: 0.9em;">Profile Picture (optional):</label>
        <input type="file" id="register-file-input" name="profile_pic" accept=".png, .jpg, .jpeg, .gif" 
            style="color: #e5e7eb; background: transparent; border: none; padding: 0; margin-bottom: 15px;">

        <button type="submit">Register</button>
    </form>
    
    <p>Already have an account? <a href="{{ url_for('login') }}">Login here</a>.</p>
    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <ul class="flashes">
          {% for message in messages %}
            <li>{{ message }}</li>
          {% endfor %}
        </ul>
      {% endif %}
    {% endwith %}
</div>
{% endblock %}

{% block script %}
    <script src="{{ url_for('static', filename='js/auth.js') }}"></script>
{% endblock %}